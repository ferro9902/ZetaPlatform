# =============================================================================
# User Management Service - Application Configuration
# =============================================================================
# Kubernetes deployment notes:
#   - Properties marked [ConfigMap] → go into the k8s ConfigMap
#   - Properties marked [Secret]    → reference a k8s Secret via envFrom / env
#   - Properties marked [Default]   → hardcoded defaults, no override needed
# =============================================================================

# [Default] Service identity
spring.application.name=user-mgmt-service

# -----------------------------------------------------------------------------
# Virtual Threads (JDK 21+)
# -----------------------------------------------------------------------------
# [Default]
spring.threads.virtual.enabled=true

# -----------------------------------------------------------------------------
# gRPC Server
# -----------------------------------------------------------------------------
# [ConfigMap] Port on which the gRPC server listens (referenced by sibling services)
spring.grpc.server.port=9090

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
# [Default] Driver and dialect
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# [Secret]  Injected from Kubernetes Secret (DB_URL)
spring.datasource.url=${DB_URL}
# [Secret]  Injected from Kubernetes Secret (DB_USERNAME)
spring.datasource.username=${DB_USERNAME}
# [Secret]  Injected from Kubernetes Secret (DB_PASSWORD)
spring.datasource.password=${DB_PASSWORD}

# [Default] DDL strategy — 'validate' in production, 'update' during development
spring.jpa.hibernate.ddl-auto=validate

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# [ConfigMap] Log levels (JSON format output handled by logback-spring.xml)
logging.level.root=INFO
logging.level.com.aruba.zeta=INFO

# -----------------------------------------------------------------------------
# Actuator / Observability
# -----------------------------------------------------------------------------
# [Default] Endpoints exposed for health probes, Prometheus scraping, log-level changes
management.endpoints.web.exposure.include=health,info,loggers,metrics,prometheus
management.endpoint.health.probes.enabled=true
